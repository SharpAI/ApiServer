<template name="accounts_management">
    <div class="dashboard page-accounts-management">
        <div class="head">
            {{#if connecting}}
            <div class="managementTitle">重新连接中...</div>
            {{else}}
              <!--{{#if loging}}
              <div class="managementTitle">帐号切换中...</div>
              {{else}}-->
              <div class="managementTitle">{{_ "Account"}}</div>
              <!--{{/if}}-->
            {{/if}}
            <div class="leftButton"><i class="fa fa-angle-left fa-fw"></i></div>
        </div>
        {{#if currentUser}}
        <div class="content">
            <div class="box accounts-list">
                <dl>
                    <dt class="active"><img src="{{currentUser.profile.icon}}" alt="Avatar"><i class="fa fa-check-circle"></i></dt>
                    <dd>
                        {{#if currentUser.profile.fullname}}
                            {{currentUser.profile.fullname}}
                        {{else}}
                            {{currentUser.username}}
                        {{/if}}
                    </dd>
                </dl>            
                {{#each accountList}}
                    {{> accounts_management_item}}
                {{/each}}
                <dl class="add-new">
                    <dt><i class="fa fa-plus"></i></dt>
                    <dd>{{_ "addAccount"}}</dd>
                </dl>                
            </div>
            <div class="logout box boxTitle boxCenter">退出当前帐号</div>
            {{#if loging}}
                {{> accounts_management_prompt}}
            {{/if}}
        </div>
        {{/if}}
    </div>
</template>

<template name="accounts_management_item">
    <dl class="my_account">
        <dt><img src="{{toIcon}}" alt="Avatar"><i class="fa fa-check-circle"></i></dt>
        <dd class="other-user">
            {{toName}}
            <span class="remove"><i class="fa fa-times"></i></span>
        </dd>
    </dl>
</template>

<template name="accounts_management_addnew">
    <div class="dashboard page-accounts-management-addnew">
        <div class="head">
            <div>{{_ "addAccount"}}</div>
            <div class="leftButton"><i class="fa fa-angle-left fa-fw"></i></div>
        </div>
        <div class="content">
            <form id="form-addnew">
                <div class="box form-addnew">
                    <dl class="add-new">
                        <dt><label for="username">{{_ "userName"}}</label></dt>
                        <dd><input id="username" name="username" type="text" required /></dd>
                    </dl>
                    <dl class="add-new">
                        <dt><label for="password">{{_ "passWord"}}</label></dt>
                        <dd><input id="password" name="password" type="password" required /></dd>
                    </dl>                                       
                </div>                

                <div class="logout box boxTitle boxCenter"><input type="submit" value="{{_ 'add'}}" class="active"/></div>
            </form>
        </div>
    </div>   
</template>

<template name="accounts_management_prompt">
    <div class="page-accounts-management-prompt">
        <div class="management-prompt-content">
            <div class="prompt-close">
                <img src="/prompt_close.png" style="right: 3px;top: 3px;position: absolute;width: 28px;">
            </div>
            <div class="prompt-animation">
                {{>spinner}}
            </div>
            <div class="prompt-text">
                <p>帐号切换中，请稍候...</p>
            </div>
        </div>
        <div class="management-prompt-background" style="background: rgba(0, 0, 0, 0.5);"></div>
    </div>
</template>
