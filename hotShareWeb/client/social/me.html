<template name="me">
  <div class="me">
    {{> Template.dynamic template=whichOne}}
  </div>
</template>
<template name="information">
  <div class="contactsList comFadeIn"><div class="head" style="display:block;">
    <div class="socialTitle">
      <span class="Contacts">我</span>
    </div>
  </div></div>
  
  <ul class="set-up comFadeIn">
    <li class="nickname">
      <label>昵称</label>
      <div class="value">{{nickname}}<i class="fa fa-angle-right"></i></div>
    </li>
    <li class="sex">
      <label>性别</label>
      <div class="value">{{sex}}<i class="fa fa-angle-right"></i></div>
    </li>
    <li class="bell">
      <label>我的消息</label>
      <div class="value">查看<i class="fa fa-angle-right"></i></div>
    </li>
  </ul>
  {{> myPubPosts}}
  {{> myFavouritePosts}}
</template>
<template name="setNickname">
  <div class="setNickname comFadeIn">
    <div class="head">
      <div class="socialTitle">
        <div class="left-btn">取消</div>
        <span class="Contacts">昵称</span>
        <div class="right-btn">保存</div>
      </div>
    </div>
  </div>

  <ul class="set-up">
    <li>
      <div class="input"><form class="setNickname-form"><input maxlength="10" class="text" type="text" id="text" placeholder="输入新昵称" value="{{nickname}}"/></form></div>
    </li>
  </ul>
</template>

<template name="setSex">
  <div class="contactsList comFadeIn">
    <div class="head" style="display:block;">
      <div class="socialTitle">
        <div class="left-btn">取消</div>
        <span class="Contacts">性别</span>
      </div>
    </div>
  </div>
  
  <ul class="set-up comFadeIn">
    <li class="nickname setMale">
      <label>男</label>
      <div class="value select">{{#if isMale}}<i class="fa fa-check"></i>{{/if}}</div>
    </li>
    <li class="sex setFemale">
      <label>女</label>
      <div class="value select">{{#if isFemale}}<i class="fa fa-check"></i>{{/if}}</div>
    </li>
  </ul>
</template>

<template name="myPubPosts">
  <div class="myPubPosts">
    <p style="background-color: white; padding-left: 10px; font-size: 16px; padding-top: 10px; border-top: 1px solid #D9D9D9; margin-bottom: 7px;">我的故事</p> 
    <ul>
        {{#each myPubPosts}}
        <li>
          <div class="img" style="background-image: url({{mainImage}});"></div>
          <h1>{{title}}</h1>
        </li>
        {{/each}}
        <div class="clear"></div>
    </ul>
    {{#if loading}}
      <div class="more">加载中，请稍候...</div>
    {{else}}
      {{#if hasMore}}
      <div class="more">点击加载更多</div>
      {{/if}}
    {{/if}}
  </div>
</template>

<template name="myFavouritePosts">
  <p style="background-color: white; padding-left: 10px; font-size: 16px; padding-top: 10px; border-top: 1px solid #D9D9D9; margin-bottom: 7px;">喜欢的故事</p>
  <div class="favposts">
  {{#newLayoutContainer layoutId=onPostId src="favposts" container='.favposts'}}
    {{#each favposts}}
      {{#newLayoutElement layoutId=onPostId displayId=_id src="favposts" container='.favposts'}}
        <div class="img_placeholder">
          <img class="mainImage" src="{{mainImage}}" />
          <button data-id="{{_id}}" class="removefavp"><i class="fa fa-circle-o"></i></button>
        </div>
        <div class="pin_content">
          <p class="title">{{title}}</p>
          <p class="addontitle">{{addontitle}}</p>
          <h1 class="username">{{ownerName}}  <span>发布</span></h1>
        </div>
      {{/newLayoutElement}}
    {{/each}}
  {{/newLayoutContainer}}
  </div>
  {{#if isLoading}}
      <div class="loading-spinner">
          <div class='spinner-overlay'>
              <div class='spinner center'>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
                  <div class='spinner-blade'></div>
              </div>
          </div>
      </div>
  {{/if}}  
</template>